var MetricsDAO=require('../models/metrics').MetricsDAO;

function ContentHandler (db) {
  // Define which models the controller requires
  var metrics=new MetricsDAO(db);

  this.displayHomePage=function(req, res, next) {
    return res.render('index', { title: 'System Analyser' });
  },

  this.fetchServerList=function(req, res, next) {
    metrics.fetchServerList(function(serverArray) {
      return res.status(200).json(serverArray);
    });
  },

  this.fetchDateList=function(req, res, next) {
    var server=req.params.server;
    metrics.fetchDateList(server,function(datesArray) {
      return res.status(200).json(datesArray);
    });
  },
  
  this.fetchServerMetrics=function(req, res, next) {
    var server=req.params.server;
    var date=req.params.date;

    //var cpuMetrics=db.metrics.findOne({"name":"kirk","date":"01032015"},{"server":true,"_id":false}).server.cpu;
    var cpuMetrics=[[1421625600000,38.59],[1421625900000,35.26],[1421626200000,33.8],[1421626500000,34.48],[1421626800000,33.83],[1421627100000,32.41],[1421627400000,32.19],[1421627700000,32.62],[1421628000000,31.98],[1421628300000,32.73],[1421628600000,33.3],[1421628900000,32.21],[1421629200000,34.77],[1421629500000,32.41],[1421629800000,32.03],[1421630100000,34.23],[1421630400000,32.97],[1421630700000,32.3],[1421631000000,32.33],[1421631300000,32.48],[1421631600000,32.02],[1421631900000,33.33],[1421632200000,33.12],[1421632500000,32.16],[1421632800000,34.41],[1421633100000,33.34],[1421633400000,31.81],[1421633700000,34.55],[1421634000000,34.66],[1421634300000,37.16],[1421634600000,32.33],[1421634900000,32.18],[1421635200000,32.66],[1421635500000,33.34],[1421635800000,33.23],[1421636100000,31.4],[1421636400000,33.36],[1421636700000,33.79],[1421637000000,33.33],[1421637300000,33.98],[1421637600000,35.12],[1421637900000,32.55],[1421638200000,32.11],[1421638500000,32.29],[1421638800000,32.41],[1421639100000,32.87],[1421639400000,33.96],[1421639700000,32.38],[1421640000000,35.45],[1421640300000,33.33],[1421640600000,32.26],[1421640900000,33.02],[1421641200000,32.55],[1421641500000,33.02],[1421641800000,36.93],[1421642100000,32.83],[1421642400000,32.25],[1421642700000,33.12],[1421643000000,33.64],[1421643300000,31.29],[1421643600000,36.94],[1421643900000,34.75],[1421644200000,33.12],[1421644500000,33.75],[1421644800000,33.83],[1421645100000,35.08],[1421645400000,32.3],[1421645700000,34.05],[1421646000000,32.68],[1421646300000,32.82],[1421646600000,34.95],[1421646900000,34.37],[1421647200000,40.69],[1421647500000,38.84],[1421647800000,36.78],[1421648100000,35.0],[1421648400000,38.22],[1421648700000,41.03],[1421649000000,36.08],[1421649300000,34.15],[1421649600000,35.54],[1421649900000,34.64],[1421650200000,35.19],[1421650500000,35.13],[1421650800000,35.51],[1421651100000,36.27],[1421651400000,34.55],[1421651700000,35.37],[1421652000000,36.73],[1421652300000,36.23],[1421652600000,36.07],[1421652900000,36.73],[1421653200000,36.21],[1421653500000,36.72],[1421653800000,37.05],[1421654100000,37.48],[1421654400000,38.8],[1421654700000,39.62],[1421655000000,38.59],[1421655300000,37.09],[1421655600000,34.83],[1421655900000,35.16],[1421656200000,34.55],[1421656500000,43.17],[1421656800000,34.02],[1421657100000,35.21],[1421657400000,35.72],[1421657700000,34.48],[1421658000000,38.25],[1421658300000,36.57],[1421658600000,35.38],[1421658900000,36.04],[1421659200000,37.01],[1421659500000,50.37],[1421659800000,42.72],[1421660100000,35.44],[1421660400000,34.78],[1421660700000,35.84],[1421661000000,36.05],[1421661300000,35.87],[1421661600000,36.26],[1421661900000,37.5],[1421662200000,36.12],[1421662500000,36.98],[1421662800000,37.51],[1421663100000,36.08],[1421663400000,36.41],[1421663700000,35.56],[1421664000000,34.41],[1421664300000,35.61],[1421664600000,37.76],[1421664900000,39.89],[1421665200000,39.3],[1421665500000,35.91],[1421665800000,40.54],[1421666100000,42.34],[1421666400000,39.41],[1421666700000,36.41],[1421667000000,37.37],[1421667300000,39.98],[1421667600000,44.74],[1421667900000,40.83],[1421668200000,38.16],[1421668500000,36.29],[1421668800000,43.6],[1421669100000,38.07],[1421669400000,36.41],[1421669700000,36.81],[1421670000000,36.16],[1421670300000,37.36],[1421670600000,40.34],[1421670900000,36.01],[1421671200000,35.94],[1421671500000,37.98],[1421671800000,38.65],[1421672100000,36.77],[1421672400000,42.74],[1421672700000,39.91],[1421673000000,37.51],[1421673300000,35.75],[1421673600000,35.05],[1421673900000,36.18],[1421674200000,35.94],[1421674500000,36.29],[1421674800000,36.16],[1421675100000,34.72],[1421675400000,36.84],[1421675700000,35.79],[1421676000000,38.34],[1421676300000,37.16],[1421676600000,36.94],[1421676900000,35.46],[1421677200000,36.4],[1421677500000,34.83],[1421677800000,37.43],[1421678100000,36.78],[1421678400000,36.16],[1421678700000,38.12],[1421679000000,36.75],[1421679300000,34.86],[1421679600000,36.76],[1421679900000,34.36],[1421680200000,34.53],[1421680500000,32.83],[1421680800000,32.98],[1421681100000,32.66],[1421681400000,35.48],[1421681700000,34.94],[1421682000000,34.39],[1421682300000,33.8],[1421682600000,37.05],[1421682900000,34.84],[1421683200000,37.83],[1421683500000,35.56],[1421683800000,35.58],[1421684100000,35.84],[1421684400000,33.97],[1421684700000,33.01],[1421685000000,36.01],[1421685300000,34.55],[1421685600000,33.84],[1421685900000,33.8],[1421686200000,35.41],[1421686500000,34.72],[1421686800000,39.19],[1421687100000,36.44],[1421687400000,35.21],[1421687700000,35.14],[1421688000000,35.88],[1421688300000,34.84],[1421688600000,34.15],[1421688900000,33.3],[1421689200000,33.19],[1421689500000,33.23],[1421689800000,34.09],[1421690100000,34.19],[1421690400000,35.37],[1421690700000,32.84],[1421691000000,32.91],[1421691300000,32.2],[1421691600000,32.47],[1421691900000,32.66],[1421692200000,32.95],[1421692500000,32.23],[1421692800000,33.03],[1421693100000,33.51],[1421693400000,34.4],[1421693700000,33.86],[1421694000000,37.63],[1421694300000,33.99],[1421694600000,33.89],[1421694900000,32.58],[1421695200000,34.53],[1421695500000,33.73],[1421695800000,33.91],[1421696100000,32.94],[1421696400000,32.68],[1421696700000,33.08],[1421697000000,35.01],[1421697300000,33.31],[1421697600000,35.01],[1421697900000,34.25],[1421698200000,33.91],[1421698500000,32.26],[1421698800000,33.99],[1421699100000,32.76],[1421699400000,32.94],[1421699700000,34.18],[1421700000000,32.33],[1421700300000,32.87],[1421700600000,34.89],[1421700900000,33.43],[1421701200000,35.23],[1421701500000,33.55],[1421701800000,33.41],[1421702100000,32.7],[1421702400000,33.67],[1421702700000,32.55],[1421703000000,32.27],[1421703300000,33.21],[1421703600000,32.91],[1421703900000,32.48],[1421704200000,32.86],[1421704500000,31.84],[1421704800000,34.75],[1421705100000,34.94],[1421705400000,33.66],[1421705700000,33.25],[1421706000000,32.53],[1421706300000,33.16],[1421706600000,32.89],[1421706900000,32.98],[1421707200000,32.39],[1421707500000,33.04],[1421707800000,33.98],[1421708100000,33.12],[1421708400000,34.27],[1421708700000,33.66],[1421709000000,33.46],[1421709300000,33.47],[1421709600000,34.7],[1421709900000,34.3],[1421710200000,31.89],[1421710500000,33.04],[1421710800000,32.55],[1421711100000,32.66],[1421711400000,34.16],[1421711700000,33.7]];
    var memMetrics=[[1421625600000,63.75],[1421625900000,63.73],[1421626200000,63.76],[1421626500000,63.8],[1421626800000,63.69],[1421627100000,63.73],[1421627400000,63.77],[1421627700000,63.67],[1421628000000,63.74],[1421628300000,61.65],[1421628600000,61.64],[1421628900000,63.59],[1421629200000,63.63],[1421629500000,63.76],[1421629800000,63.73],[1421630100000,63.78],[1421630400000,63.78],[1421630700000,63.72],[1421631000000,63.72],[1421631300000,63.72],[1421631600000,63.72],[1421631900000,63.78],[1421632200000,63.82],[1421632500000,61.68],[1421632800000,61.64],[1421633100000,63.65],[1421633400000,63.66],[1421633700000,63.85],[1421634000000,63.69],[1421634300000,63.71],[1421634600000,63.78],[1421634900000,63.83],[1421635200000,63.77],[1421635500000,63.8],[1421635800000,63.76],[1421636100000,63.69],[1421636400000,63.69],[1421636700000,61.71],[1421637000000,61.64],[1421637300000,63.62],[1421637600000,63.62],[1421637900000,63.7],[1421638200000,63.76],[1421638500000,63.72],[1421638800000,63.76],[1421639100000,63.8],[1421639400000,63.69],[1421639700000,63.72],[1421640000000,63.73],[1421640300000,63.82],[1421640600000,63.76],[1421640900000,61.7],[1421641200000,61.69],[1421641500000,63.64],[1421641800000,63.7],[1421642100000,63.68],[1421642400000,63.7],[1421642700000,63.89],[1421643000000,63.72],[1421643300000,63.69],[1421643600000,63.75],[1421643900000,63.79],[1421644200000,63.75],[1421644500000,63.82],[1421644800000,63.78],[1421645100000,61.67],[1421645400000,61.73],[1421645700000,63.64],[1421646000000,63.67],[1421646300000,63.69],[1421646600000,63.85],[1421646900000,63.67],[1421647200000,63.65],[1421647500000,63.66],[1421647800000,63.7],[1421648100000,63.78],[1421648400000,63.79],[1421648700000,63.8],[1421649000000,63.63],[1421649300000,63.76],[1421649600000,63.66],[1421649900000,63.69],[1421650200000,63.79],[1421650500000,63.76],[1421650800000,61.67],[1421651100000,63.65],[1421651400000,63.65],[1421651700000,63.66],[1421652000000,63.75],[1421652300000,63.83],[1421652600000,63.7],[1421652900000,63.67],[1421653200000,63.74],[1421653500000,63.75],[1421653800000,63.68],[1421654100000,63.74],[1421654400000,63.81],[1421654700000,61.67],[1421655000000,63.64],[1421655300000,63.71],[1421655600000,63.75],[1421655900000,63.79],[1421656200000,63.81],[1421656500000,63.8],[1421656800000,63.66],[1421657100000,63.91],[1421657400000,63.96],[1421657700000,64.13],[1421658000000,64.14],[1421658300000,64.14],[1421658600000,62.19],[1421658900000,64.27],[1421659200000,64.27],[1421659500000,64.28],[1421659800000,64.3],[1421660100000,64.46],[1421660400000,64.46],[1421660700000,64.37],[1421661000000,64.38],[1421661300000,64.41],[1421661600000,64.39],[1421661900000,64.41],[1421662200000,64.44],[1421662500000,62.4],[1421662800000,64.35],[1421663100000,64.41],[1421663400000,64.46],[1421663700000,64.46],[1421664000000,64.52],[1421664300000,64.5],[1421664600000,64.39],[1421664900000,64.41],[1421665200000,64.41],[1421665500000,64.38],[1421665800000,64.52],[1421666100000,64.52],[1421666400000,62.44],[1421666700000,64.44],[1421667000000,64.59],[1421667300000,64.55],[1421667600000,64.58],[1421667900000,64.69],[1421668200000,64.68],[1421668500000,64.58],[1421668800000,64.59],[1421669100000,64.58],[1421669400000,64.58],[1421669700000,64.77],[1421670000000,64.77],[1421670300000,62.62],[1421670600000,64.64],[1421670900000,64.69],[1421671200000,64.68],[1421671500000,64.74],[1421671800000,64.76],[1421672100000,64.66],[1421672400000,64.63],[1421672700000,64.64],[1421673000000,64.67],[1421673300000,64.6],[1421673600000,64.67],[1421673900000,64.63],[1421674200000,62.61],[1421674500000,64.6],[1421674800000,64.61],[1421675100000,64.66],[1421675400000,64.59],[1421675700000,64.78],[1421676000000,64.69],[1421676300000,64.68],[1421676600000,64.68],[1421676900000,64.68],[1421677200000,64.71],[1421677500000,64.73],[1421677800000,64.82],[1421678100000,62.67],[1421678400000,64.66],[1421678700000,64.71],[1421679000000,64.71],[1421679300000,64.86],[1421679600000,64.88],[1421679900000,64.87],[1421680200000,64.69],[1421680500000,64.74],[1421680800000,64.8],[1421681100000,64.71],[1421681400000,64.85],[1421681700000,64.74],[1421682000000,62.73],[1421682300000,64.74],[1421682600000,64.87],[1421682900000,64.78],[1421683200000,64.78],[1421683500000,64.85],[1421683800000,64.86],[1421684100000,64.73],[1421684400000,64.73],[1421684700000,64.83],[1421685000000,64.82],[1421685300000,64.93],[1421685600000,64.86],[1421685900000,62.78],[1421686200000,64.74],[1421686500000,64.77],[1421686800000,64.76],[1421687100000,64.86],[1421687400000,64.82],[1421687700000,64.89],[1421688000000,64.79],[1421688300000,64.82],[1421688600000,64.78],[1421688900000,64.88],[1421689200000,64.94],[1421689500000,64.78],[1421689800000,62.77],[1421690100000,64.78],[1421690400000,64.84],[1421690700000,64.78],[1421691000000,64.81],[1421691300000,64.88],[1421691600000,64.85],[1421691900000,64.78],[1421692200000,64.85],[1421692500000,64.79],[1421692800000,64.9],[1421693100000,64.85],[1421693400000,64.9],[1421693700000,62.74],[1421694000000,64.78],[1421694300000,64.74],[1421694600000,64.78],[1421694900000,64.87],[1421695200000,64.92],[1421695500000,64.88],[1421695800000,64.75],[1421696100000,64.75],[1421696400000,64.78],[1421696700000,64.81],[1421697000000,64.81],[1421697300000,64.78],[1421697600000,62.8],[1421697900000,64.78],[1421698200000,64.88],[1421698500000,64.82],[1421698800000,64.87],[1421699100000,64.88],[1421699400000,64.88],[1421699700000,64.77],[1421700000000,64.76],[1421700300000,64.8],[1421700600000,64.82],[1421700900000,64.84],[1421701200000,64.88],[1421701500000,62.79],[1421701800000,64.78],[1421702100000,64.81],[1421702400000,64.79],[1421702700000,64.78],[1421703000000,64.82],[1421703300000,64.85],[1421703600000,64.75],[1421703900000,64.78],[1421704200000,64.75],[1421704500000,64.79],[1421704800000,64.86],[1421705100000,64.92],[1421705400000,62.75],[1421705700000,64.82],[1421706000000,64.8],[1421706300000,64.76],[1421706600000,64.76],[1421706900000,64.91],[1421707200000,64.82],[1421707500000,64.77],[1421707800000,64.78],[1421708100000,64.81],[1421708400000,64.87],[1421708700000,64.9],[1421709000000,64.83],[1421709300000,62.78],[1421709600000,64.77],[1421709900000,64.8],[1421710200000,64.76],[1421710500000,64.89],[1421710800000,64.86],[1421711100000,64.8],[1421711400000,64.76],[1421711700000,64.8]];
    var diskMetrics=[[1421625600000,81.5],[1421625900000,71.4],[1421626200000,70.9],[1421626500000,79.6],[1421626800000,69.5],[1421627100000,71.6],[1421627400000,70.5],[1421627700000,80.2],[1421628000000,69.1],[1421628300000,67.4],[1421628600000,70.1],[1421628900000,78.5],[1421629200000,68.8],[1421629500000,70.5],[1421629800000,71.8],[1421630100000,114.0],[1421630400000,69.3],[1421630700000,69.0],[1421631000000,70.4],[1421631300000,77.8],[1421631600000,67.7],[1421631900000,83.8],[1421632200000,70.5],[1421632500000,77.4],[1421632800000,69.0],[1421633100000,70.3],[1421633400000,70.8],[1421633700000,203.2],[1421634000000,75.4],[1421634300000,74.8],[1421634600000,72.6],[1421634900000,78.6],[1421635200000,123.3],[1421635500000,65.4],[1421635800000,69.9],[1421636100000,77.7],[1421636400000,68.5],[1421636700000,71.3],[1421637000000,69.8],[1421637300000,72.4],[1421637600000,70.6],[1421637900000,68.7],[1421638200000,70.0],[1421638500000,78.8],[1421638800000,69.1],[1421639100000,64.5],[1421639400000,69.4],[1421639700000,78.3],[1421640000000,69.5],[1421640300000,69.9],[1421640600000,70.3],[1421640900000,78.3],[1421641200000,70.8],[1421641500000,68.9],[1421641800000,79.7],[1421642100000,81.6],[1421642400000,69.1],[1421642700000,65.7],[1421643000000,70.2],[1421643300000,75.9],[1421643600000,70.0],[1421643900000,69.7],[1421644200000,69.6],[1421644500000,71.1],[1421644800000,72.4],[1421645100000,68.9],[1421645400000,70.8],[1421645700000,77.0],[1421646000000,70.8],[1421646300000,65.1],[1421646600000,69.6],[1421646900000,76.0],[1421647200000,74.6],[1421647500000,72.0],[1421647800000,70.4],[1421648100000,67.6],[1421648400000,81.2],[1421648700000,71.4],[1421649000000,72.6],[1421649300000,72.8],[1421649600000,77.2],[1421649900000,67.0],[1421650200000,70.9],[1421650500000,71.3],[1421650800000,77.9],[1421651100000,70.9],[1421651400000,72.7],[1421651700000,66.2],[1421652000000,80.1],[1421652300000,75.1],[1421652600000,71.2],[1421652900000,73.8],[1421653200000,75.6],[1421653500000,64.8],[1421653800000,70.0],[1421654100000,72.3],[1421654400000,76.6],[1421654700000,70.0],[1421655000000,69.0],[1421655300000,69.0],[1421655600000,87.1],[1421655900000,68.6],[1421656200000,73.1],[1421656500000,73.9],[1421656800000,76.6],[1421657100000,74.3],[1421657400000,70.1],[1421657700000,71.1],[1421658000000,77.7],[1421658300000,73.7],[1421658600000,69.1],[1421658900000,71.0],[1421659200000,80.7],[1421659500000,72.7],[1421659800000,73.3],[1421660100000,72.7],[1421660400000,77.1],[1421660700000,67.2],[1421661000000,69.9],[1421661300000,69.9],[1421661600000,79.3],[1421661900000,71.6],[1421662200000,73.7],[1421662500000,66.3],[1421662800000,88.1],[1421663100000,69.3],[1421663400000,74.3],[1421663700000,73.9],[1421664000000,77.8],[1421664300000,70.0],[1421664600000,70.4],[1421664900000,71.8],[1421665200000,78.6],[1421665500000,72.1],[1421665800000,68.8],[1421666100000,67.0],[1421666400000,81.6],[1421666700000,69.7],[1421667000000,72.5],[1421667300000,71.9],[1421667600000,76.0],[1421667900000,69.5],[1421668200000,69.8],[1421668500000,69.4],[1421668800000,80.8],[1421669100000,71.1],[1421669400000,69.4],[1421669700000,65.8],[1421670000000,84.1],[1421670300000,68.0],[1421670600000,72.8],[1421670900000,72.6],[1421671200000,76.6],[1421671500000,68.7],[1421671800000,70.6],[1421672100000,68.8],[1421672400000,79.1],[1421672700000,75.5],[1421673000000,69.2],[1421673300000,66.3],[1421673600000,77.2],[1421673900000,70.0],[1421674200000,72.8],[1421674500000,71.7],[1421674800000,72.8],[1421675100000,71.2],[1421675400000,71.7],[1421675700000,70.3],[1421676000000,71.7],[1421676300000,78.7],[1421676600000,68.8],[1421676900000,67.5],[1421677200000,72.8],[1421677500000,78.5],[1421677800000,73.1],[1421678100000,72.3],[1421678400000,68.5],[1421678700000,78.9],[1421679000000,69.8],[1421679300000,71.6],[1421679600000,72.3],[1421679900000,77.6],[1421680200000,68.6],[1421680500000,67.0],[1421680800000,72.0],[1421681100000,75.3],[1421681400000,75.5],[1421681700000,70.2],[1421682000000,69.0],[1421682300000,75.3],[1421682600000,73.3],[1421682900000,68.5],[1421683200000,72.9],[1421683500000,89.8],[1421683800000,71.1],[1421684100000,68.8],[1421684400000,73.8],[1421684700000,76.1],[1421685000000,72.1],[1421685300000,72.2],[1421685600000,67.8],[1421685900000,79.8],[1421686200000,72.8],[1421686500000,68.9],[1421686800000,73.1],[1421687100000,78.0],[1421687400000,68.5],[1421687700000,67.8],[1421688000000,73.5],[1421688300000,76.3],[1421688600000,72.2],[1421688900000,72.3],[1421689200000,68.0],[1421689500000,76.5],[1421689800000,68.7],[1421690100000,70.1],[1421690400000,72.0],[1421690700000,86.3],[1421691000000,67.7],[1421691300000,66.6],[1421691600000,71.3],[1421691900000,75.5],[1421692200000,71.8],[1421692500000,71.9],[1421692800000,67.9],[1421693100000,77.6],[1421693400000,70.1],[1421693700000,68.2],[1421694000000,72.3],[1421694300000,79.3],[1421694600000,66.9],[1421694900000,68.4],[1421695200000,72.7],[1421695500000,75.8],[1421695800000,71.4],[1421696100000,71.3],[1421696400000,65.8],[1421696700000,78.8],[1421697000000,68.8],[1421697300000,68.5],[1421697600000,72.3],[1421697900000,86.3],[1421698200000,66.3],[1421698500000,67.3],[1421698800000,71.8],[1421699100000,74.1],[1421699400000,73.5],[1421699700000,72.0],[1421700000000,66.9],[1421700300000,76.8],[1421700600000,72.1],[1421700900000,68.8],[1421701200000,72.0],[1421701500000,76.3],[1421701800000,68.7],[1421702100000,67.2],[1421702400000,70.7],[1421702700000,71.5],[1421703000000,74.6],[1421703300000,70.8],[1421703600000,65.8],[1421703900000,70.6],[1421704200000,74.6],[1421704500000,67.7],[1421704800000,72.6],[1421705100000,72.1],[1421705400000,83.7],[1421705700000,68.5],[1421706000000,70.0],[1421706300000,67.3],[1421706600000,78.7],[1421706900000,72.4],[1421707200000,64.6],[1421707500000,71.3],[1421707800000,78.4],[1421708100000,68.4],[1421708400000,71.2],[1421708700000,72.3],[1421709000000,73.2],[1421709300000,68.1],[1421709600000,69.7],[1421709900000,68.6],[1421710200000,241.3],[1421710500000,71.3],[1421710800000,64.7],[1421711100000,70.5],[1421711400000,75.3],[1421711700000,67.8]];
    var netInMetrics=[[1421625600000,589.3],[1421625900000,544.9],[1421626200000,540.2],[1421626500000,547.3],[1421626800000,555.4],[1421627100000,548.3],[1421627400000,545.1],[1421627700000,550.7],[1421628000000,548.3],[1421628300000,541.6],[1421628600000,552.6],[1421628900000,547.7],[1421629200000,583.8],[1421629500000,553.6],[1421629800000,545.6],[1421630100000,556.2],[1421630400000,557.6],[1421630700000,550.3],[1421631000000,545.3],[1421631300000,551.0],[1421631600000,543.2],[1421631900000,539.9],[1421632200000,551.9],[1421632500000,545.0],[1421632800000,581.4],[1421633100000,555.8],[1421633400000,546.2],[1421633700000,537.7],[1421634000000,582.7],[1421634300000,572.8],[1421634600000,542.0],[1421634900000,545.9],[1421635200000,542.6],[1421635500000,544.7],[1421635800000,552.0],[1421636100000,543.6],[1421636400000,575.2],[1421636700000,555.6],[1421637000000,544.7],[1421637300000,543.0],[1421637600000,550.8],[1421637900000,542.4],[1421638200000,538.9],[1421638500000,552.7],[1421638800000,541.8],[1421639100000,538.8],[1421639400000,553.8],[1421639700000,543.9],[1421640000000,580.7],[1421640300000,554.3],[1421640600000,539.3],[1421640900000,543.0],[1421641200000,549.1],[1421641500000,541.5],[1421641800000,542.7],[1421642100000,548.3],[1421642400000,542.8],[1421642700000,546.2],[1421643000000,550.9],[1421643300000,544.5],[1421643600000,583.7],[1421643900000,557.8],[1421644200000,543.7],[1421644500000,548.2],[1421644800000,556.2],[1421645100000,555.6],[1421645400000,550.2],[1421645700000,554.3],[1421646000000,548.8],[1421646300000,553.6],[1421646600000,558.7],[1421646900000,559.1],[1421647200000,603.3],[1421647500000,576.4],[1421647800000,562.8],[1421648100000,548.9],[1421648400000,552.5],[1421648700000,554.7],[1421649000000,548.7],[1421649300000,564.2],[1421649600000,558.8],[1421649900000,546.0],[1421650200000,533.4],[1421650500000,547.5],[1421650800000,571.2],[1421651100000,553.7],[1421651400000,551.9],[1421651700000,549.6],[1421652000000,549.6],[1421652300000,556.5],[1421652600000,549.0],[1421652900000,548.0],[1421653200000,549.8],[1421653500000,545.0],[1421653800000,553.0],[1421654100000,548.6],[1421654400000,580.6],[1421654700000,552.8],[1421655000000,547.0],[1421655300000,542.9],[1421655600000,547.7],[1421655900000,550.5],[1421656200000,552.9],[1421656500000,554.7],[1421656800000,550.0],[1421657100000,551.4],[1421657400000,560.6],[1421657700000,553.5],[1421658000000,579.8],[1421658300000,559.8],[1421658600000,556.1],[1421658900000,545.7],[1421659200000,558.7],[1421659500000,539.1],[1421659800000,551.2],[1421660100000,556.9],[1421660400000,547.3],[1421660700000,548.3],[1421661000000,561.4],[1421661300000,551.5],[1421661600000,581.9],[1421661900000,563.3],[1421662200000,551.3],[1421662500000,549.5],[1421662800000,556.8],[1421663100000,537.8],[1421663400000,552.7],[1421663700000,553.6],[1421664000000,548.0],[1421664300000,547.5],[1421664600000,555.7],[1421664900000,547.5],[1421665200000,577.2],[1421665500000,556.4],[1421665800000,551.8],[1421666100000,575.1],[1421666400000,592.9],[1421666700000,552.7],[1421667000000,550.4],[1421667300000,561.0],[1421667600000,555.5],[1421667900000,556.6],[1421668200000,560.2],[1421668500000,554.3],[1421668800000,609.3],[1421669100000,559.1],[1421669400000,574.0],[1421669700000,551.9],[1421670000000,560.5],[1421670300000,558.8],[1421670600000,558.2],[1421670900000,557.3],[1421671200000,538.5],[1421671500000,556.8],[1421671800000,564.5],[1421672100000,553.9],[1421672400000,593.1],[1421672700000,575.8],[1421673000000,561.4],[1421673300000,546.8],[1421673600000,552.3],[1421673900000,554.1],[1421674200000,556.6],[1421674500000,556.2],[1421674800000,556.9],[1421675100000,551.9],[1421675400000,570.2],[1421675700000,547.0],[1421676000000,601.9],[1421676300000,560.9],[1421676600000,551.6],[1421676900000,550.5],[1421677200000,559.9],[1421677500000,552.4],[1421677800000,544.8],[1421678100000,553.6],[1421678400000,563.3],[1421678700000,558.2],[1421679000000,576.8],[1421679300000,553.3],[1421679600000,589.8],[1421679900000,559.4],[1421680200000,549.0],[1421680500000,541.0],[1421680800000,550.3],[1421681100000,551.5],[1421681400000,556.4],[1421681700000,557.7],[1421682000000,552.3],[1421682300000,544.6],[1421682600000,566.6],[1421682900000,558.8],[1421683200000,598.5],[1421683500000,565.6],[1421683800000,563.8],[1421684100000,551.3],[1421684400000,562.9],[1421684700000,555.6],[1421685000000,565.0],[1421685300000,561.3],[1421685600000,556.7],[1421685900000,550.8],[1421686200000,564.2],[1421686500000,561.2],[1421686800000,604.4],[1421687100000,584.5],[1421687400000,573.5],[1421687700000,565.8],[1421688000000,576.5],[1421688300000,570.9],[1421688600000,565.5],[1421688900000,568.3],[1421689200000,566.2],[1421689500000,563.5],[1421689800000,572.0],[1421690100000,567.0],[1421690400000,602.2],[1421690700000,573.9],[1421691000000,566.5],[1421691300000,560.5],[1421691600000,570.4],[1421691900000,562.3],[1421692200000,564.2],[1421692500000,565.1],[1421692800000,563.8],[1421693100000,564.8],[1421693400000,574.2],[1421693700000,573.0],[1421694000000,600.4],[1421694300000,578.1],[1421694600000,570.7],[1421694900000,558.7],[1421695200000,554.0],[1421695500000,570.9],[1421695800000,559.2],[1421696100000,568.3],[1421696400000,563.6],[1421696700000,559.5],[1421697000000,573.1],[1421697300000,560.9],[1421697600000,598.1],[1421697900000,559.8],[1421698200000,570.6],[1421698500000,554.8],[1421698800000,566.4],[1421699100000,563.4],[1421699400000,559.5],[1421699700000,564.3],[1421700000000,556.2],[1421700300000,553.5],[1421700600000,572.5],[1421700900000,561.8],[1421701200000,600.4],[1421701500000,570.2],[1421701800000,560.2],[1421702100000,554.0],[1421702400000,572.0],[1421702700000,562.0],[1421703000000,554.2],[1421703300000,562.8],[1421703600000,563.7],[1421703900000,556.9],[1421704200000,567.4],[1421704500000,529.1],[1421704800000,585.1],[1421705100000,570.5],[1421705400000,558.8],[1421705700000,564.8],[1421706000000,568.0],[1421706300000,564.8],[1421706600000,562.7],[1421706900000,569.0],[1421707200000,563.2],[1421707500000,561.4],[1421707800000,568.5],[1421708100000,562.3],[1421708400000,595.4],[1421708700000,580.0],[1421709000000,571.7],[1421709300000,558.2],[1421709600000,570.2],[1421709900000,567.1],[1421710200000,562.5],[1421710500000,551.9],[1421710800000,540.0],[1421711100000,539.9],[1421711400000,551.0],[1421711700000,545.3]];
    var netOutMetrics=[[1421625600000,632.7],[1421625900000,579.0],[1421626200000,574.0],[1421626500000,585.2],[1421626800000,591.1],[1421627100000,583.1],[1421627400000,579.8],[1421627700000,584.9],[1421628000000,581.6],[1421628300000,576.7],[1421628600000,587.5],[1421628900000,583.4],[1421629200000,628.0],[1421629500000,589.7],[1421629800000,581.1],[1421630100000,592.4],[1421630400000,592.8],[1421630700000,585.7],[1421631000000,580.0],[1421631300000,584.9],[1421631600000,577.8],[1421631900000,573.3],[1421632200000,586.6],[1421632500000,581.7],[1421632800000,626.5],[1421633100000,591.5],[1421633400000,580.9],[1421633700000,576.2],[1421634000000,1149.0],[1421634300000,620.3],[1421634600000,576.6],[1421634900000,580.6],[1421635200000,576.5],[1421635500000,580.0],[1421635800000,585.7],[1421636100000,579.1],[1421636400000,618.8],[1421636700000,590.9],[1421637000000,579.6],[1421637300000,577.5],[1421637600000,584.5],[1421637900000,576.7],[1421638200000,571.9],[1421638500000,586.4],[1421638800000,575.2],[1421639100000,573.5],[1421639400000,588.4],[1421639700000,579.2],[1421640000000,626.3],[1421640300000,589.5],[1421640600000,574.0],[1421640900000,578.1],[1421641200000,582.8],[1421641500000,575.3],[1421641800000,576.8],[1421642100000,582.5],[1421642400000,576.2],[1421642700000,581.3],[1421643000000,586.1],[1421643300000,579.0],[1421643600000,631.4],[1421643900000,595.3],[1421644200000,579.2],[1421644500000,584.3],[1421644800000,591.6],[1421645100000,591.8],[1421645400000,585.0],[1421645700000,589.5],[1421646000000,583.2],[1421646300000,590.0],[1421646600000,594.6],[1421646900000,598.1],[1421647200000,659.1],[1421647500000,618.0],[1421647800000,602.1],[1421648100000,585.1],[1421648400000,590.0],[1421648700000,598.7],[1421649000000,585.1],[1421649300000,600.3],[1421649600000,595.9],[1421649900000,584.9],[1421650200000,572.1],[1421650500000,587.0],[1421650800000,618.9],[1421651100000,591.3],[1421651400000,588.0],[1421651700000,587.2],[1421652000000,587.6],[1421652300000,589.0],[1421652600000,585.3],[1421652900000,584.0],[1421653200000,587.2],[1421653500000,583.2],[1421653800000,590.5],[1421654100000,588.2],[1421654400000,627.1],[1421654700000,592.5],[1421655000000,584.1],[1421655300000,578.8],[1421655600000,584.5],[1421655900000,586.0],[1421656200000,588.5],[1421656500000,599.5],[1421656800000,585.6],[1421657100000,584.7],[1421657400000,596.1],[1421657700000,590.4],[1421658000000,623.5],[1421658300000,595.6],[1421658600000,592.3],[1421658900000,580.7],[1421659200000,594.2],[1421659500000,582.1],[1421659800000,591.7],[1421660100000,592.6],[1421660400000,581.1],[1421660700000,582.4],[1421661000000,596.1],[1421661300000,587.5],[1421661600000,626.2],[1421661900000,601.7],[1421662200000,586.6],[1421662500000,586.5],[1421662800000,594.7],[1421663100000,574.9],[1421663400000,588.8],[1421663700000,588.6],[1421664000000,581.5],[1421664300000,583.8],[1421664600000,591.2],[1421664900000,588.4],[1421665200000,621.8],[1421665500000,593.5],[1421665800000,589.8],[1421666100000,611.2],[1421666400000,628.1],[1421666700000,588.2],[1421667000000,587.6],[1421667300000,600.4],[1421667600000,596.9],[1421667900000,596.1],[1421668200000,596.9],[1421668500000,592.6],[1421668800000,655.4],[1421669100000,598.4],[1421669400000,610.7],[1421669700000,589.7],[1421670000000,595.7],[1421670300000,596.2],[1421670600000,596.3],[1421670900000,592.6],[1421671200000,574.5],[1421671500000,593.5],[1421671800000,601.7],[1421672100000,593.5],[1421672400000,643.7],[1421672700000,614.9],[1421673000000,598.3],[1421673300000,581.8],[1421673600000,587.6],[1421673900000,590.7],[1421674200000,592.8],[1421674500000,592.5],[1421674800000,594.2],[1421675100000,588.3],[1421675400000,607.2],[1421675700000,586.7],[1421676000000,647.1],[1421676300000,601.8],[1421676600000,590.7],[1421676900000,587.8],[1421677200000,600.4],[1421677500000,589.4],[1421677800000,584.9],[1421678100000,593.4],[1421678400000,601.4],[1421678700000,598.7],[1421679000000,613.0],[1421679300000,593.6],[1421679600000,637.2],[1421679900000,595.4],[1421680200000,585.2],[1421680500000,577.0],[1421680800000,584.2],[1421681100000,585.2],[1421681400000,590.7],[1421681700000,592.2],[1421682000000,586.4],[1421682300000,580.0],[1421682600000,601.6],[1421682900000,596.0],[1421683200000,643.3],[1421683500000,600.9],[1421683800000,598.4],[1421684100000,585.6],[1421684400000,597.5],[1421684700000,588.3],[1421685000000,599.0],[1421685300000,595.8],[1421685600000,590.2],[1421685900000,584.7],[1421686200000,596.2],[1421686500000,598.5],[1421686800000,657.2],[1421687100000,627.8],[1421687400000,617.0],[1421687700000,608.6],[1421688000000,619.0],[1421688300000,613.7],[1421688600000,607.0],[1421688900000,609.8],[1421689200000,607.4],[1421689500000,606.3],[1421689800000,615.1],[1421690100000,610.3],[1421690400000,654.7],[1421690700000,616.7],[1421691000000,608.5],[1421691300000,602.1],[1421691600000,612.0],[1421691900000,604.4],[1421692200000,606.2],[1421692500000,606.2],[1421692800000,605.6],[1421693100000,607.8],[1421693400000,616.3],[1421693700000,616.4],[1421694000000,654.4],[1421694300000,621.7],[1421694600000,613.4],[1421694900000,599.7],[1421695200000,598.0],[1421695500000,613.3],[1421695800000,601.6],[1421696100000,610.2],[1421696400000,605.7],[1421696700000,600.4],[1421697000000,616.1],[1421697300000,605.2],[1421697600000,650.9],[1421697900000,603.7],[1421698200000,613.1],[1421698500000,595.8],[1421698800000,609.1],[1421699100000,605.7],[1421699400000,601.6],[1421699700000,606.3],[1421700000000,597.2],[1421700300000,595.4],[1421700600000,614.1],[1421700900000,605.8],[1421701200000,653.2],[1421701500000,614.3],[1421701800000,602.7],[1421702100000,595.3],[1421702400000,613.0],[1421702700000,604.1],[1421703000000,594.5],[1421703300000,604.0],[1421703600000,602.8],[1421703900000,597.1],[1421704200000,607.9],[1421704500000,572.9],[1421704800000,638.9],[1421705100000,616.6],[1421705400000,600.6],[1421705700000,605.0],[1421706000000,609.8],[1421706300000,606.6],[1421706600000,604.5],[1421706900000,610.7],[1421707200000,604.1],[1421707500000,603.1],[1421707800000,610.0],[1421708100000,604.7],[1421708400000,646.2],[1421708700000,620.7],[1421709000000,613.5],[1421709300000,599.8],[1421709600000,612.5],[1421709900000,608.8],[1421710200000,603.7],[1421710500000,589.5],[1421710800000,575.5],[1421711100000,576.5],[1421711400000,588.0],[1421711700000,584.7]];
   
    return res.render('server_metrics',  
              { server: req.params.server, 
                date: req.params.date, 
                cpuMetrics: JSON.stringify(cpuMetrics),
                memMetrics: JSON.stringify(memMetrics),
                diskMetrics: JSON.stringify(diskMetrics),
                netInMetrics: JSON.stringify(netInMetrics),
                netOutMetrics: JSON.stringify(netOutMetrics)
    });
  }
}

module.exports = ContentHandler;