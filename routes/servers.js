var express = require('express');
var router = express.Router();

router.get('/', function(req, res, next) {
  res.status(200).json(['Kirk', 'Spock', 'Bones', 'Scotty', 'Sulu', 'Uhura']);
});

router.get('/:server', function(req, res, next) {
  res.status(200).json(['01012015', '02012015']);
});

router.get('/:server/:date', function(req, res, next) {
  var cpuMetrics=[[1421712000000,35.93],[1421712300000,33.25],[1421712600000,32.96],[1421712900000,34.05],[1421713200000,33.41],[1421713500000,33.02],[1421713800000,34.33],[1421714100000,34.54],[1421714400000,35.77],[1421714700000,35.86],[1421715000000,34.09],[1421715300000,33.98],[1421715600000,51.61],[1421715900000,34.43],[1421716200000,32.73],[1421716500000,35.25],[1421716800000,33.62],[1421717100000,33.09],[1421717400000,32.41],[1421717700000,32.33],[1421718000000,32.66],[1421718300000,33.68],[1421718600000,33.57],[1421718900000,32.16],[1421719200000,34.03],[1421719500000,33.57],[1421719800000,33.84],[1421720100000,36.03],[1421720400000,33.34],[1421720700000,32.91],[1421721000000,32.61],[1421721300000,32.5],[1421721600000,32.18],[1421721900000,33.29],[1421722200000,35.66],[1421722500000,36.93],[1421722800000,34.48],[1421723100000,33.23],[1421723400000,33.18],[1421723700000,33.06],[1421724000000,34.26],[1421724300000,32.8],[1421724600000,32.49],[1421724900000,32.27],[1421725200000,32.5],[1421725500000,32.52],[1421725800000,33.59],[1421726100000,32.08],[1421726400000,33.93],[1421726700000,32.58],[1421727000000,32.12],[1421727300000,32.55],[1421727600000,32.4],[1421727900000,32.58],[1421728200000,37.15],[1421728500000,32.47],[1421728800000,32.67],[1421729100000,32.5],[1421729400000,32.78],[1421729700000,32.37],[1421730000000,35.51],[1421730300000,33.05],[1421730600000,32.75],[1421730900000,31.94],[1421731200000,34.12],[1421731500000,34.01],[1421731800000,33.93],[1421732100000,34.93],[1421732400000,33.47],[1421732700000,34.01],[1421733000000,35.69],[1421733300000,34.93],[1421733600000,39.26],[1421733900000,35.39],[1421734200000,36.41],[1421734500000,34.91],[1421734800000,39.12],[1421735100000,37.58],[1421735400000,35.34],[1421735700000,34.34],[1421736000000,33.53],[1421736300000,33.63],[1421736600000,34.51],[1421736900000,34.3],[1421737200000,35.81],[1421737500000,36.11],[1421737800000,35.97],[1421738100000,34.5],[1421738400000,36.46],[1421738700000,34.73],[1421739000000,34.05],[1421739300000,35.37],[1421739600000,33.31],[1421739900000,33.61],[1421740200000,34.68],[1421740500000,36.0],[1421740800000,36.37],[1421741100000,34.44],[1421741400000,34.99],[1421741700000,34.91],[1421742000000,34.55],[1421742300000,33.82],[1421742600000,34.01],[1421742900000,42.42],[1421743200000,35.68],[1421743500000,34.34],[1421743800000,35.23],[1421744100000,35.15],[1421744400000,36.14],[1421744700000,35.37],[1421745000000,37.41],[1421745300000,36.83],[1421745600000,34.93],[1421745900000,35.94],[1421746200000,36.34],[1421746500000,36.72],[1421746800000,36.64],[1421747100000,37.34],[1421747400000,37.48],[1421747700000,37.03],[1421748000000,39.05],[1421748300000,37.7],[1421748600000,35.73],[1421748900000,35.34],[1421749200000,36.82],[1421749500000,35.29],[1421749800000,43.57],[1421750100000,50.9],[1421750400000,44.54],[1421750700000,37.31],[1421751000000,38.82],[1421751300000,35.68],[1421751600000,38.88],[1421751900000,36.91],[1421752200000,36.62],[1421752500000,34.91],[1421752800000,42.42],[1421753100000,35.86],[1421753400000,35.41],[1421753700000,39.23],[1421754000000,39.18],[1421754300000,41.39],[1421754600000,38.79],[1421754900000,36.86],[1421755200000,42.68],[1421755500000,36.69],[1421755800000,36.91],[1421756100000,37.41],[1421756400000,38.26],[1421756700000,43.05],[1421757000000,43.39],[1421757300000,38.56],[1421757600000,38.02],[1421757900000,39.53],[1421758200000,38.25],[1421758500000,36.63],[1421758800000,44.88],[1421759100000,41.86],[1421759400000,35.7],[1421759700000,35.49],[1421760000000,35.69],[1421760300000,36.68],[1421760600000,38.36],[1421760900000,37.61],[1421761200000,36.99],[1421761500000,37.73],[1421761800000,36.47],[1421762100000,37.72]];
 
  res.render('server_metrics',  
              { server: req.params.server, 
                date: req.params.date, 
                metrics: JSON.stringify(cpuMetrics)});
});

module.exports = router;